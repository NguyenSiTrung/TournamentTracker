<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Tournament Tracker - Track game sessions, scores, and team rankings">
    <title>Tournament Tracker</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Space+Grotesk:wght@500;600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <div class="app-layout">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="sidebar-logo">
                    <div class="sidebar-logo-icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <circle cx="12" cy="12" r="10" />
                            <path d="M8 14s1.5 2 4 2 4-2 4-2" />
                            <line x1="9" y1="9" x2="9.01" y2="9" />
                            <line x1="15" y1="9" x2="15.01" y2="9" />
                        </svg>
                    </div>
                    <div class="sidebar-logo-text">
                        <span class="sidebar-brand">Pro League</span>
                        <span class="sidebar-season">Season 4</span>
                    </div>
                </div>
            </div>

            <nav class="sidebar-nav">
                <button class="sidebar-nav-item active" data-tab="dashboard">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                        stroke-linecap="round" stroke-linejoin="round">
                        <rect x="3" y="3" width="7" height="7" />
                        <rect x="14" y="3" width="7" height="7" />
                        <rect x="14" y="14" width="7" height="7" />
                        <rect x="3" y="14" width="7" height="7" />
                    </svg>
                    <span>Dashboard</span>
                </button>
                <button class="sidebar-nav-item" data-tab="teams">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                        stroke-linecap="round" stroke-linejoin="round">
                        <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" />
                        <circle cx="9" cy="7" r="4" />
                        <path d="M23 21v-2a4 4 0 0 0-3-3.87" />
                        <path d="M16 3.13a4 4 0 0 1 0 7.75" />
                    </svg>
                    <span>Teams</span>
                </button>
                <button class="sidebar-nav-item" data-tab="session">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                        stroke-linecap="round" stroke-linejoin="round">
                        <polygon
                            points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2" />
                    </svg>
                    <span>Sessions</span>
                    <span class="sidebar-badge" id="session-badge" style="display:none;"></span>
                </button>
                <button class="sidebar-nav-item" data-tab="history">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                        stroke-linecap="round" stroke-linejoin="round">
                        <line x1="8" y1="6" x2="21" y2="6" />
                        <line x1="8" y1="12" x2="21" y2="12" />
                        <line x1="8" y1="18" x2="21" y2="18" />
                        <line x1="3" y1="6" x2="3.01" y2="6" />
                        <line x1="3" y1="12" x2="3.01" y2="12" />
                        <line x1="3" y1="18" x2="3.01" y2="18" />
                    </svg>
                    <span>History</span>
                </button>
                <button class="sidebar-nav-item" data-tab="settings">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                        stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="12" cy="12" r="3" />
                        <path
                            d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z" />
                    </svg>
                    <span>Settings</span>
                </button>
            </nav>

            <div class="sidebar-footer">
                <div class="sidebar-user">
                    <div class="sidebar-user-avatar">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" />
                            <circle cx="12" cy="7" r="4" />
                        </svg>
                    </div>
                    <div class="sidebar-user-info">
                        <span class="sidebar-user-name">Admin User</span>
                        <span class="sidebar-user-email">admin@proleague...</span>
                    </div>
                    <button class="sidebar-logout-btn" id="btn-export" title="Export Data">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4" />
                            <polyline points="16 17 21 12 16 7" />
                            <line x1="21" y1="12" x2="9" y2="12" />
                        </svg>
                    </button>
                </div>
            </div>
        </aside>

        <!-- Mobile sidebar toggle -->
        <button class="sidebar-toggle" id="sidebar-toggle" aria-label="Toggle navigation menu" aria-controls="sidebar"
            aria-expanded="false">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                stroke-linecap="round" stroke-linejoin="round">
                <line x1="3" y1="12" x2="21" y2="12" />
                <line x1="3" y1="6" x2="21" y2="6" />
                <line x1="3" y1="18" x2="21" y2="18" />
            </svg>
        </button>

        <!-- Main Content Area -->
        <main class="main-area">
            <!-- Dashboard View -->
            <section class="view-content active" id="view-dashboard">
                <!-- Page Header -->
                <div class="page-header">
                    <div class="page-header-text">
                        <h1 class="page-title">Tournament Overview</h1>
                        <p class="page-subtitle">Manage your league and track real-time stats.</p>
                    </div>
                    <div class="page-header-actions">
                        <button class="btn btn-primary" id="btn-start-session-hero">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                                <circle cx="12" cy="12" r="10" />
                                <line x1="12" y1="8" x2="12" y2="16" />
                                <line x1="8" y1="12" x2="16" y2="12" />
                            </svg>
                            <span id="btn-start-session-hero-label">Start New Session</span>
                        </button>
                    </div>
                </div>

                <!-- Stats Cards Row -->
                <div class="stats-row">
                    <div class="stat-card">
                        <div class="stat-card-top">
                            <span class="stat-card-label">ACTIVE TEAMS</span>
                            <div class="stat-card-icon stat-card-icon-teams">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" />
                                    <circle cx="9" cy="7" r="4" />
                                    <path d="M23 21v-2a4 4 0 0 0-3-3.87" />
                                    <path d="M16 3.13a4 4 0 0 1 0 7.75" />
                                </svg>
                            </div>
                        </div>
                        <div class="stat-card-value" id="total-teams">0</div>
                        <div class="stat-card-trend stat-card-trend-up" id="trend-teams">
                            <span>+2 this week</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-card-top">
                            <span class="stat-card-label">TOTAL SESSIONS</span>
                            <div class="stat-card-icon stat-card-icon-sessions">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <polygon
                                        points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2" />
                                </svg>
                            </div>
                        </div>
                        <div class="stat-card-value" id="total-sessions">0</div>
                        <div class="stat-card-trend stat-card-trend-up" id="trend-sessions">
                            <span>+5 this week</span>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-card-top">
                            <span class="stat-card-label">AVG POINTS/GAME</span>
                            <div class="stat-card-icon stat-card-icon-avg">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <polyline points="22 12 18 12 15 21 9 3 6 12 2 12" />
                                </svg>
                            </div>
                        </div>
                        <div class="stat-card-value" id="avg-points">0</div>
                        <div class="stat-card-trend stat-card-trend-up" id="trend-avg">
                            <span>+12% vs avg</span>
                        </div>
                    </div>
                </div>

                <!-- Two Column Layout: Leaderboard + Recent Sessions -->
                <div class="dashboard-grid">
                    <!-- Leaderboard Column -->
                    <div class="dashboard-col-left">
                        <div class="panel">
                            <div class="panel-header">
                                <h2 class="panel-title">Leaderboard</h2>
                                <button class="panel-action-link" onclick="App.switchTab('history')">View all</button>
                            </div>
                            <div class="panel-body" id="leaderboard-content">
                                <div class="empty-state-hero-card">
                                    <div class="empty-state-hero">
                                        <svg class="empty-state-hero__svg-illustration" viewBox="0 0 180 180"
                                            fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                                            <rect x="20" y="100" width="40" height="55" rx="4" fill="#132218"
                                                stroke="#2e7d32" stroke-width="1.5" />
                                            <rect x="70" y="75" width="40" height="80" rx="4" fill="#132218"
                                                stroke="#4caf50" stroke-width="2" />
                                            <rect x="120" y="110" width="40" height="45" rx="4" fill="#132218"
                                                stroke="#2e7d32" stroke-width="1.5" />
                                            <text x="40" y="132" text-anchor="middle" fill="#2e7d32" font-size="18"
                                                font-weight="800" font-family="Inter,sans-serif" opacity="0.6">2</text>
                                            <text x="90" y="112" text-anchor="middle" fill="#4caf50" font-size="22"
                                                font-weight="800" font-family="Inter,sans-serif" opacity="0.7">1</text>
                                            <text x="140" y="140" text-anchor="middle" fill="#2e7d32" font-size="16"
                                                font-weight="800" font-family="Inter,sans-serif" opacity="0.5">3</text>
                                            <polygon
                                                points="90,42 93,50 101,51 95,56 96.5,64 90,60 83.5,64 85,56 79,51 87,50"
                                                fill="#ffd700" opacity="0.8" />
                                            <polygon
                                                points="40,70 42,75 47,75.5 43.5,78.5 44.5,83 40,80.5 35.5,83 36.5,78.5 33,75.5 38,75"
                                                fill="#c0c0c0" opacity="0.5" />
                                            <polygon
                                                points="140,82 141.5,86 146,86.5 143,89 143.8,93 140,91 136.2,93 137,89 134,86.5 138.5,86"
                                                fill="#cd7f32" opacity="0.5" />
                                            <circle cx="25" cy="60" r="2" fill="#ffd700" opacity="0.5" />
                                            <circle cx="160" cy="70" r="2.5" fill="#ffd700" opacity="0.4" />
                                            <circle cx="90" cy="168" r="2" fill="#4caf50" opacity="0.3" />
                                            <line x1="15" y1="156" x2="165" y2="156" stroke="#2e7d32" stroke-width="1"
                                                opacity="0.3" />
                                        </svg>
                                        <h3 class="empty-state-hero__title">No Rankings Yet</h3>
                                        <p class="empty-state-hero__subtitle">Complete your first session to see team
                                            rankings here.</p>
                                        <button class="empty-state-hero__cta" onclick="App.switchTab('session')">Start a
                                            Session</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Recent Sessions Column -->
                    <div class="dashboard-col-right">
                        <div class="panel">
                            <div class="panel-header">
                                <h2 class="panel-title">Recent Sessions</h2>
                                <div class="recent-session-filter-wrap">
                                    <label class="recent-session-filter-label" for="recent-session-filter">Show</label>
                                    <select class="recent-session-filter" id="recent-session-filter"
                                        aria-label="Filter recent sessions">
                                        <option value="all">All Sessions</option>
                                        <option value="active">Active Sessions</option>
                                        <option value="completed">Finalized Sessions</option>
                                    </select>
                                </div>
                            </div>
                            <div class="panel-body">
                                <!-- Sessions Table -->
                                <div class="sessions-table-wrap">
                                    <table class="sessions-table" id="recent-sessions-table">
                                        <thead>
                                            <tr>
                                                <th>SESSION INFO</th>
                                                <th>WINNER</th>
                                                <th>POINTS POOL</th>
                                                <th>PENALTIES</th>
                                                <th>STATUS</th>
                                            </tr>
                                        </thead>
                                        <tbody id="recent-sessions-body">
                                            <tr>
                                                <td colspan="5" class="empty-state">No sessions yet.</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                                <div class="sessions-view-all" id="sessions-view-all" style="display:none;">
                                    <button class="panel-action-link" onclick="App.switchTab('history')">View all
                                        sessions</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Teams View -->
            <section class="view-content" id="view-teams">
                <div class="page-header">
                    <div class="page-header-text">
                        <h1 class="page-title">Teams</h1>
                        <p class="page-subtitle">Your squad lineup üë•</p>
                    </div>
                    <div class="page-header-actions">
                        <button class="btn btn-primary" id="btn-create-team">
                            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                                <line x1="12" y1="5" x2="12" y2="19" />
                                <line x1="5" y1="12" x2="19" y2="12" />
                            </svg>
                            Create Team
                        </button>
                    </div>
                </div>
                <div class="teams-grid" id="teams-grid">
                    <div class="empty-state-hero-card">
                        <div class="empty-state-hero">
                            <svg class="empty-state-hero__svg-illustration" viewBox="0 0 180 180" fill="none"
                                xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                                <path d="M55 50h70v45c0 22-15 38-35 38s-35-16-35-38V50z" fill="#132218" stroke="#4caf50"
                                    stroke-width="2" />
                                <path d="M60 55h60v40c0 18-13 32-30 32s-30-14-30-32V55z" fill="url(#tgf)"
                                    opacity="0.25" />
                                <path d="M55 60H40a12 12 0 0 0 0 24h15" stroke="#2e7d32" stroke-width="2" fill="none" />
                                <path d="M125 60h15a12 12 0 0 1 0 24h-15" stroke="#2e7d32" stroke-width="2"
                                    fill="none" />
                                <rect x="78" y="133" width="24" height="12" rx="3" fill="#2e7d32" opacity="0.7" />
                                <rect x="65" y="145" width="50" height="8" rx="4" fill="#2e7d32" opacity="0.5" />
                                <polygon points="90,62 93.5,70 102,71 96,77 97.5,86 90,82 82.5,86 84,77 78,71 86.5,70"
                                    fill="#ffd700" opacity="0.85" />
                                <circle cx="60" cy="165" r="6" fill="#4caf50" opacity="0.3" />
                                <rect x="54" y="172" width="12" height="8" rx="4" fill="#4caf50" opacity="0.2" />
                                <circle cx="90" cy="162" r="7" fill="#00c853" opacity="0.35" />
                                <rect x="83" y="170" width="14" height="10" rx="5" fill="#00c853" opacity="0.25" />
                                <circle cx="120" cy="165" r="6" fill="#4caf50" opacity="0.3" />
                                <rect x="114" y="172" width="12" height="8" rx="4" fill="#4caf50" opacity="0.2" />
                                <circle cx="42" cy="42" r="2.5" fill="#ffd700" opacity="0.6" />
                                <circle cx="140" cy="38" r="2" fill="#ffd700" opacity="0.5" />
                                <circle cx="150" cy="100" r="1.8" fill="#ffd700" opacity="0.4" />
                                <circle cx="30" cy="95" r="2" fill="#4caf50" opacity="0.3" />
                                <defs>
                                    <linearGradient id="tgf" x1="60" y1="55" x2="120" y2="127">
                                        <stop offset="0%" stop-color="#4caf50" />
                                        <stop offset="100%" stop-color="#00c853" />
                                    </linearGradient>
                                </defs>
                            </svg>
                            <h3 class="empty-state-hero__title">No Teams Registered</h3>
                            <p class="empty-state-hero__subtitle">Start by creating your first team to track their
                                progress
                                and scores across sessions.</p>
                            <button class="empty-state-hero__cta" onclick="Teams.showCreateModal()"
                                id="cta-create-first-team-static">+ Create Your First Team</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Session View -->
            <section class="view-content" id="view-session">
                <div class="page-header session-page-header">
                    <div class="page-header-text">
                        <h1 class="page-title">Session Command Center</h1>
                        <p class="page-subtitle">Run live sessions, track scores, and manage penalties.</p>
                    </div>
                </div>

                <!-- No Active Session -->
                <div id="no-active-session">
                    <div class="panel empty-session-card empty-session-card-enhanced">
                        <div class="empty-state-hero" style="padding-top:32px;padding-bottom:24px;">
                            <svg class="empty-state-hero__svg-illustration" viewBox="0 0 180 180" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <!-- Controller body -->
                                <rect x="25" y="55" width="130" height="75" rx="20" fill="#132218" stroke="#4caf50"
                                    stroke-width="2" />
                                <!-- D-pad -->
                                <rect x="48" y="78" width="8" height="30" rx="3" fill="#2e7d32" opacity="0.7" />
                                <rect x="39" y="87" width="26" height="8" rx="3" fill="#2e7d32" opacity="0.7" />
                                <!-- Buttons -->
                                <circle cx="128" cy="82" r="7" fill="#4caf50" opacity="0.5" />
                                <circle cx="145" cy="92" r="7" fill="#00c853" opacity="0.5" />
                                <circle cx="128" cy="102" r="7" fill="#2e7d32" opacity="0.5" />
                                <!-- Signal waves -->
                                <path d="M80 40 Q90 30 100 40" stroke="#4caf50" stroke-width="2" fill="none"
                                    opacity="0.3" />
                                <path d="M72 30 Q90 15 108 30" stroke="#4caf50" stroke-width="2" fill="none"
                                    opacity="0.5" />
                                <path d="M64 20 Q90 0 116 20" stroke="#00c853" stroke-width="2" fill="none"
                                    opacity="0.7" />
                                <!-- Center play icon -->
                                <circle cx="90" cy="92" r="12" fill="#0b1a0f" stroke="#ffd700" stroke-width="1.5" />
                                <polygon points="87,86 87,98 97,92" fill="#ffd700" opacity="0.9" />
                                <!-- Sparkles -->
                                <circle cx="40" cy="45" r="2" fill="#ffd700" opacity="0.6" />
                                <circle cx="145" cy="50" r="2.5" fill="#ffd700" opacity="0.5" />
                                <circle cx="90" cy="148" r="2" fill="#4caf50" opacity="0.4" />
                            </svg>
                            <h3 class="empty-state-hero__title">No Active Session</h3>
                            <p class="empty-state-hero__subtitle">Launch a new session to open the live matrix and
                                standings board.</p>
                            <button class="empty-state-hero__cta" id="btn-new-session">
                                <span>+</span>
                                <span id="btn-new-session-label">New Session</span>
                            </button>
                        </div>
                        <div class="past-sessions-link" id="resume-session-area" style="display:none;">
                            <p>Or resume an active session:</p>
                            <div id="resume-session-list"></div>
                        </div>
                    </div>
                </div>

                <!-- Active Session Panel -->
                <div id="active-session-panel" style="display:none;" class="session-live-layout">
                    <div class="session-live-main">
                        <div class="session-hero panel">
                            <div class="session-hero-top">
                                <div>
                                    <h2 class="session-hero-title">
                                        <span class="session-number-label" id="session-number-display">Session
                                            #--</span>
                                        <span class="session-title-divider">-</span>
                                        <span id="session-name-display">Session Name</span>
                                    </h2>
                                    <div class="session-hero-meta">
                                        <span class="session-date" id="session-date-display"></span>
                                        <span class="session-meta-dot">‚Ä¢</span>
                                        <span id="session-game-progress">No games recorded yet</span>
                                    </div>
                                </div>
                                <span class="session-live-pill">Live</span>
                            </div>

                            <div class="session-actions">
                                <button class="btn btn-outline btn-sm" id="btn-edit-session">‚úèÔ∏è Edit Details</button>
                                <button class="btn btn-primary btn-sm" id="btn-add-game">+ Add Game Result</button>
                            </div>

                            <div class="session-kpi-grid">
                                <article class="session-kpi-card">
                                    <p class="session-kpi-label">Total Games</p>
                                    <p class="session-kpi-value" id="session-total-games-stat">0 / 0</p>
                                </article>
                                <article class="session-kpi-card">
                                    <p class="session-kpi-label">Leading Team</p>
                                    <p class="session-kpi-value text-success" id="session-leading-team-stat">-</p>
                                </article>
                                <article class="session-kpi-card">
                                    <p class="session-kpi-label">Avg. Points</p>
                                    <p class="session-kpi-value" id="session-avg-points-stat">0.0</p>
                                </article>
                                <article class="session-kpi-card session-kpi-card-danger">
                                    <p class="session-kpi-label">Active Penalties</p>
                                    <p class="session-kpi-value" id="session-active-penalties-stat">0</p>
                                </article>
                            </div>
                        </div>

                        <div class="panel session-matrix-panel">
                            <div class="panel-header">
                                <h2 class="panel-title">Score Matrix</h2>
                                <span class="game-count" id="game-count">0 games</span>
                            </div>
                            <div id="games-list">
                                <p class="empty-state">üéØ No games added yet. Click "Add Game Result" to start.</p>
                            </div>
                        </div>

                        <div class="panel session-penalty-panel">
                            <div class="panel-header">
                                <h2 class="panel-title">Penalty Log</h2>
                                <button class="btn btn-danger btn-sm" id="btn-add-penalty">+ Add Penalty</button>
                            </div>
                            <div id="penalties-list">
                                <p class="empty-state">‚úÖ No penalties applied.</p>
                            </div>
                        </div>
                    </div>

                    <aside class="session-live-sidebar panel">
                        <div class="panel-header">
                            <h2 class="panel-title">Live Standings</h2>
                            <span class="session-sidebar-caption">Real-time total points</span>
                        </div>
                        <div id="live-scoreboard"></div>
                        <button class="btn btn-outline btn-block session-finalize-btn"
                            id="btn-complete-session">Finalize Session</button>
                    </aside>
                </div>
            </section>

            <!-- History View -->
            <section class="view-content" id="view-history">
                <div class="page-header">
                    <div class="page-header-text">
                        <h1 class="page-title">History</h1>
                        <p class="page-subtitle">Review completed sessions first, then compare overall team stats.</p>
                    </div>
                </div>

                <!-- Session History List -->
                <div class="panel" id="session-history-card">
                    <div class="panel-header">
                        <h2 class="panel-title">üìã Session History</h2>
                    </div>
                    <div id="history-list">
                        <div class="empty-state-hero-card">
                            <div class="empty-state-hero">
                                <svg class="empty-state-hero__svg-illustration" viewBox="0 0 180 180" fill="none"
                                    xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                                    <circle cx="90" cy="80" r="45" fill="#132218" stroke="#4caf50" stroke-width="2" />
                                    <circle cx="90" cy="80" r="40" fill="none" stroke="#2e7d32" stroke-width="1"
                                        opacity="0.3" />
                                    <line x1="90" y1="80" x2="90" y2="52" stroke="#4caf50" stroke-width="2.5"
                                        stroke-linecap="round" />
                                    <line x1="90" y1="80" x2="110" y2="75" stroke="#00c853" stroke-width="2"
                                        stroke-linecap="round" />
                                    <circle cx="90" cy="80" r="3" fill="#ffd700" opacity="0.8" />
                                    <circle cx="90" cy="42" r="2" fill="#4caf50" opacity="0.5" />
                                    <circle cx="128" cy="80" r="2" fill="#4caf50" opacity="0.5" />
                                    <circle cx="90" cy="118" r="2" fill="#4caf50" opacity="0.5" />
                                    <circle cx="52" cy="80" r="2" fill="#4caf50" opacity="0.5" />
                                    <rect x="40" y="140" width="16" height="28" rx="3" fill="#2e7d32" opacity="0.4" />
                                    <rect x="62" y="148" width="16" height="20" rx="3" fill="#4caf50" opacity="0.35" />
                                    <rect x="84" y="135" width="16" height="33" rx="3" fill="#00c853" opacity="0.45" />
                                    <rect x="106" y="142" width="16" height="26" rx="3" fill="#4caf50" opacity="0.35" />
                                    <rect x="128" y="150" width="16" height="18" rx="3" fill="#2e7d32" opacity="0.3" />
                                    <circle cx="35" cy="45" r="2" fill="#ffd700" opacity="0.5" />
                                    <circle cx="148" cy="50" r="2.5" fill="#ffd700" opacity="0.4" />
                                    <circle cx="155" cy="135" r="1.8" fill="#4caf50" opacity="0.3" />
                                </svg>
                                <h3 class="empty-state-hero__title">No Sessions Completed</h3>
                                <p class="empty-state-hero__subtitle">Complete a session to see detailed results and
                                    game
                                    history here.</p>
                                <button class="empty-state-hero__cta" onclick="App.switchTab('session')">Go to
                                    Sessions</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Overall Stats -->
                <div class="panel" id="overall-stats-card">
                    <div class="panel-header">
                        <h2 class="panel-title">üìà Overall Team Statistics</h2>
                    </div>
                    <div id="overall-stats-content">
                        <div class="empty-state-hero-card">
                            <div class="empty-state-hero">
                                <svg class="empty-state-hero__svg-illustration" viewBox="0 0 180 180" fill="none"
                                    xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                                    <circle cx="90" cy="80" r="45" fill="#132218" stroke="#4caf50" stroke-width="2" />
                                    <circle cx="90" cy="80" r="40" fill="none" stroke="#2e7d32" stroke-width="1"
                                        opacity="0.3" />
                                    <line x1="90" y1="80" x2="90" y2="52" stroke="#4caf50" stroke-width="2.5"
                                        stroke-linecap="round" />
                                    <line x1="90" y1="80" x2="110" y2="75" stroke="#00c853" stroke-width="2"
                                        stroke-linecap="round" />
                                    <circle cx="90" cy="80" r="3" fill="#ffd700" opacity="0.8" />
                                    <circle cx="90" cy="42" r="2" fill="#4caf50" opacity="0.5" />
                                    <circle cx="128" cy="80" r="2" fill="#4caf50" opacity="0.5" />
                                    <circle cx="90" cy="118" r="2" fill="#4caf50" opacity="0.5" />
                                    <circle cx="52" cy="80" r="2" fill="#4caf50" opacity="0.5" />
                                    <rect x="40" y="140" width="16" height="28" rx="3" fill="#2e7d32" opacity="0.4" />
                                    <rect x="62" y="148" width="16" height="20" rx="3" fill="#4caf50" opacity="0.35" />
                                    <rect x="84" y="135" width="16" height="33" rx="3" fill="#00c853" opacity="0.45" />
                                    <rect x="106" y="142" width="16" height="26" rx="3" fill="#4caf50" opacity="0.35" />
                                    <rect x="128" y="150" width="16" height="18" rx="3" fill="#2e7d32" opacity="0.3" />
                                    <circle cx="35" cy="45" r="2" fill="#ffd700" opacity="0.5" />
                                    <circle cx="148" cy="50" r="2.5" fill="#ffd700" opacity="0.4" />
                                    <circle cx="155" cy="135" r="1.8" fill="#4caf50" opacity="0.3" />
                                </svg>
                                <h3 class="empty-state-hero__title">No History Yet</h3>
                                <p class="empty-state-hero__subtitle">Complete sessions to build your tournament history
                                    and
                                    statistics.</p>
                                <button class="empty-state-hero__cta" onclick="App.switchTab('session')">Go to
                                    Sessions</button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Settings View -->
            <section class="view-content" id="view-settings">
                <div class="page-header">
                    <div class="page-header-text">
                        <h1 class="page-title">Settings</h1>
                        <p class="page-subtitle">Configure your tournament league, scoring, and preferences.</p>
                    </div>
                </div>

                <div class="settings-grid">
                    <!-- Left Column -->
                    <div class="settings-col">

                        <!-- Tournament Profile Card -->
                        <div class="settings-card">
                            <div class="settings-card-header">
                                <div class="settings-card-icon">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                                        <circle cx="12" cy="12" r="3"/>
                                        <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1-2.83 2.83l-.06-.06A1.65 1.65 0 0 0 15 19.4a1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 2.83-2.83l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 4 0v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z"/>
                                    </svg>
                                </div>
                                <div>
                                    <h2 class="settings-card-title">Tournament Profile</h2>
                                    <p class="settings-card-subtitle">League identity and branding</p>
                                </div>
                            </div>
                            <div class="settings-form-row">
                                <div class="settings-form-group">
                                    <label class="settings-form-label" for="settings-league-name">League Name</label>
                                    <input type="text" class="settings-form-input" id="settings-league-name" placeholder="e.g. Pro League" autocomplete="off">
                                </div>
                                <div class="settings-form-group">
                                    <label class="settings-form-label" for="settings-season">Season</label>
                                    <input type="text" class="settings-form-input" id="settings-season" placeholder="e.g. Season 4" autocomplete="off">
                                </div>
                            </div>
                            <div class="settings-form-group">
                                <label class="settings-form-label" for="settings-description">Description</label>
                                <textarea class="settings-form-textarea" id="settings-description" placeholder="Optional league description..." rows="3"></textarea>
                            </div>
                            <button class="settings-save-btn" id="settings-save-profile">Save Profile</button>
                        </div>

                        <!-- Scoring Configuration Card -->
                        <div class="settings-card">
                            <div class="settings-card-header">
                                <div class="settings-card-icon">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                                        <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/>
                                    </svg>
                                </div>
                                <div>
                                    <h2 class="settings-card-title">Scoring Configuration</h2>
                                    <p class="settings-card-subtitle">Points per placement position</p>
                                </div>
                            </div>
                            <div class="scoring-cards">
                                <div class="scoring-card scoring-card--gold">
                                    <div class="scoring-card-position">1st</div>
                                    <div class="scoring-card-label">Gold</div>
                                    <input type="number" class="scoring-card-input" id="settings-scoring-1st" min="0" step="1" value="4" aria-label="1st place points">
                                </div>
                                <div class="scoring-card scoring-card--silver">
                                    <div class="scoring-card-position">2nd</div>
                                    <div class="scoring-card-label">Silver</div>
                                    <input type="number" class="scoring-card-input" id="settings-scoring-2nd" min="0" step="1" value="3" aria-label="2nd place points">
                                </div>
                                <div class="scoring-card scoring-card--bronze">
                                    <div class="scoring-card-position">3rd</div>
                                    <div class="scoring-card-label">Bronze</div>
                                    <input type="number" class="scoring-card-input" id="settings-scoring-3rd" min="0" step="1" value="2" aria-label="3rd place points">
                                </div>
                                <div class="scoring-card scoring-card--default">
                                    <div class="scoring-card-position">4th</div>
                                    <div class="scoring-card-label">Default</div>
                                    <input type="number" class="scoring-card-input" id="settings-scoring-4th" min="0" step="1" value="1" aria-label="4th place points">
                                </div>
                            </div>

                            <!-- 2-Player Mode -->
                            <div class="scoring-2p-toggle">
                                <div class="scoring-2p-header">
                                    <span class="scoring-2p-header-text">2-Player Mode Scoring</span>
                                    <label class="toggle-switch">
                                        <input type="checkbox" id="settings-2p-toggle" aria-label="Toggle 2-player scoring view">
                                        <span class="toggle-switch-slider"></span>
                                    </label>
                                </div>
                                <div class="scoring-2p-cards" id="settings-2p-section" style="display:none;">
                                    <div class="scoring-card scoring-card--gold">
                                        <div class="scoring-card-position">1st</div>
                                        <div class="scoring-card-label">Winner</div>
                                        <input type="number" class="scoring-card-input" id="settings-scoring-2p-1st" min="0" step="1" value="4" aria-label="2-player 1st place points">
                                    </div>
                                    <div class="scoring-card scoring-card--silver">
                                        <div class="scoring-card-position">2nd</div>
                                        <div class="scoring-card-label">Runner-up</div>
                                        <input type="number" class="scoring-card-input" id="settings-scoring-2p-2nd" min="0" step="1" value="1" aria-label="2-player 2nd place points">
                                    </div>
                                </div>
                            </div>

                            <div class="scoring-btn-row" style="margin-top: 18px;">
                                <button class="settings-save-btn" id="settings-save-scoring">Save Scoring</button>
                                <button class="settings-link-btn" id="settings-restore-defaults">Restore Defaults</button>
                            </div>
                        </div>
                    </div>

                    <!-- Right Column -->
                    <div class="settings-col">

                        <!-- Appearance Card -->
                        <div class="settings-card">
                            <div class="settings-card-header">
                                <div class="settings-card-icon">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                                        <circle cx="12" cy="12" r="5"/>
                                        <line x1="12" y1="1" x2="12" y2="3"/>
                                        <line x1="12" y1="21" x2="12" y2="23"/>
                                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/>
                                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
                                        <line x1="1" y1="12" x2="3" y2="12"/>
                                        <line x1="21" y1="12" x2="23" y2="12"/>
                                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/>
                                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
                                    </svg>
                                </div>
                                <div>
                                    <h2 class="settings-card-title">Appearance</h2>
                                    <p class="settings-card-subtitle">Visual preferences and accessibility</p>
                                </div>
                            </div>
                            <div class="settings-toggle-row">
                                <div class="settings-toggle-info">
                                    <span class="settings-toggle-label">Reduce Motion</span>
                                    <span class="settings-toggle-desc">Disable animations for accessibility</span>
                                </div>
                                <label class="toggle-switch">
                                    <input type="checkbox" id="settings-reduce-motion" aria-label="Toggle reduced motion">
                                    <span class="toggle-switch-slider"></span>
                                </label>
                            </div>
                            <div class="settings-toggle-row">
                                <div class="settings-toggle-info">
                                    <span class="settings-toggle-label">Theme</span>
                                    <span class="settings-toggle-desc">Current visual theme</span>
                                </div>
                                <span id="settings-theme-value" style="font-size:0.88rem;color:#a5d6a7;font-weight:500;">Dark</span>
                            </div>
                        </div>

                        <!-- Data Management Card -->
                        <div class="settings-card">
                            <div class="settings-card-header">
                                <div class="settings-card-icon">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                                        <ellipse cx="12" cy="5" rx="9" ry="3"/>
                                        <path d="M21 12c0 1.66-4 3-9 3s-9-1.34-9-3"/>
                                        <path d="M3 5v14c0 1.66 4 3 9 3s9-1.34 9-3V5"/>
                                    </svg>
                                </div>
                                <div>
                                    <h2 class="settings-card-title">Data Management</h2>
                                    <p class="settings-card-subtitle">Import, export, and manage data</p>
                                </div>
                            </div>
                            <div class="data-stats-panel">
                                <div class="data-stat">
                                    <div class="data-stat-value" id="settings-stat-teams">-</div>
                                    <div class="data-stat-label">Teams</div>
                                </div>
                                <div class="data-stat">
                                    <div class="data-stat-value" id="settings-stat-sessions">-</div>
                                    <div class="data-stat-label">Sessions</div>
                                </div>
                                <div class="data-stat">
                                    <div class="data-stat-value" id="settings-stat-games">-</div>
                                    <div class="data-stat-label">Games</div>
                                </div>
                            </div>
                            <div class="settings-actions">
                                <button class="btn btn-outline" id="btn-export-settings">
                                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                                        <polyline points="17 8 12 3 7 8"/>
                                        <line x1="12" y1="3" x2="12" y2="15"/>
                                    </svg>
                                    Export Data
                                </button>
                                <button class="btn btn-outline" id="btn-import-settings">
                                    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                                        <polyline points="7 10 12 15 17 10"/>
                                        <line x1="12" y1="15" x2="12" y2="3"/>
                                    </svg>
                                    Import Data
                                </button>
                                <input type="file" id="import-file" accept=".json" style="display:none">
                            </div>
                            <div class="danger-zone">
                                <div class="danger-zone-label">Danger Zone</div>
                                <p class="danger-zone-desc">Permanently delete selected data. This action cannot be undone.</p>
                                <button class="danger-zone-btn" id="settings-reset-btn">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                                        <polyline points="3 6 5 6 21 6"/>
                                        <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/>
                                    </svg>
                                    Reset All Data‚Ä¶
                                </button>
                            </div>
                        </div>

                        <!-- About Card -->
                        <div class="settings-card">
                            <div class="settings-card-header">
                                <div class="settings-card-icon">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
                                        <circle cx="12" cy="12" r="10"/>
                                        <line x1="12" y1="16" x2="12" y2="12"/>
                                        <line x1="12" y1="8" x2="12.01" y2="8"/>
                                    </svg>
                                </div>
                                <div>
                                    <h2 class="settings-card-title">About</h2>
                                    <p class="settings-card-subtitle">Application information</p>
                                </div>
                            </div>
                            <div class="about-info">
                                <div class="about-row">
                                    <span class="about-row-label">Application</span>
                                    <span class="about-row-value">Tournament Tracker</span>
                                </div>
                                <div class="about-row">
                                    <span class="about-row-label">Version</span>
                                    <span class="about-row-value">1.0.0</span>
                                </div>
                                <div class="about-row">
                                    <span class="about-row-label">Build</span>
                                    <span class="about-row-value">2026.02</span>
                                </div>
                                <div class="about-row">
                                    <span class="about-row-label">Stack</span>
                                    <span class="about-row-value">Vanilla JS + FastAPI</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Modal Overlay -->
    <div class="modal-overlay" id="modal-overlay">
        <div class="modal panel" id="modal">
            <div class="modal-header">
                <h3 id="modal-title">Modal Title</h3>
                <button class="btn-close" id="modal-close">&times;</button>
            </div>
            <div class="modal-body" id="modal-body">
                <!-- Dynamic content -->
            </div>
            <div class="modal-footer" id="modal-footer">
                <!-- Dynamic buttons -->
            </div>
        </div>
    </div>

    <!-- Toast Notifications -->
    <div class="toast-container" id="toast-container"></div>

    <script src="js/api.js"></script>
    <script src="js/store.js"></script>
    <script src="js/teams.js"></script>
    <script src="js/session.js"></script>
    <script src="js/history.js"></script>
    <script src="js/settings.js"></script>
    <script src="js/app.js"></script>
</body>

</html>
